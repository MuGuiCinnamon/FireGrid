# FireGrid

å¯ä»¥æ·»åŠ å†…å®¹ï¼šå°–åˆºï¼Œæ±½æ²¹ï¼Œé£æ‰‡

------æ•´ä½“æƒ³æ³•-----

æˆ‘æƒ³è¦åˆ¶ä½œä¸€ä¸ªunity å°æ¸¸æˆï¼Œç°åœ¨çš„æƒ³æ³•å¹¶ä¸å®Œæ•´ï¼Œä½†æˆ‘ä¼šæŒ‡å‡ºæœªæ¥å¯èƒ½æœ‰æ›´æ”¹çš„åœ°æ–¹ï¼Œå¸Œæœ›ç°åœ¨çš„ä»£ç ä¿ç•™æœªæ¥æ·»åŠ æ–°æ•ˆæœçš„å¯èƒ½æ€§ã€‚

é¦–å…ˆæ¸¸æˆæ•´ä½“ç”±48*48çš„ç½‘æ ¼ç»„æˆï¼Œåœ°é¢ä¼šç”±ä¸€å—å—çš„game objectç»„æˆï¼Œè¿™äº›gameobjectæˆ‘ç§°ä¸ºåœ°æ¿ï¼Œæ¯å—åœ°æ¿éƒ½æºå¸¦ç€ä¸åŒçš„å±æ€§ï¼Œæ˜¯å¦å¯ä»¥ç‡ƒçƒ§ï¼Œç©å®¶æ˜¯å¦å¯ä»¥åœ¨ä¸Šé¢ç§»åŠ¨ç­‰ç­‰ï¼ˆåç»­å¯èƒ½ä¼šæ·»åŠ å…¶ä»–å±æ€§ï¼‰ï¼Œç©å®¶åªå¯ä»¥ä½¿ç”¨WASDæ¥ä¸Šä¸‹å·¦å³ç§»åŠ¨ä¸€ä¸ªæŒ‰é’®ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç½‘æ ¼çš„è·ç¦»ï¼Œå½“æŒ‰ä¸‹ç©ºæ ¼ä¼šè§¦å‘ä¸€äº›ç‰¹å®šçš„æ•ˆæœï¼Œæ™®é€šæƒ…å†µå°±æ˜¯ç©å®¶æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶ä¸”å½“å‰ç©å®¶æ‰€åœ¨ä½ç½®å¤„æœ‰ä¸ªå¯ä»¥ç‡ƒçƒ§çš„åœ°æ¿æ—¶ï¼Œä¼šè¯ç”Ÿç«ç„°ã€‚ï¼ˆåç»­å¯èƒ½ä¼šæ·»åŠ å…¶ä»–æƒ…å†µï¼‰

ç«ç„°æœ‰ä¸¤ç§è§¦å‘æ–¹å¼ï¼Œ
1. ç©å®¶æŒ‰ä¸‹ç©ºæ ¼é”®ä¸”å½“å‰ç©å®¶æ‰€åœ¨ä½ç½®å¤„æœ‰ä¸ªå¯ä»¥ç‡ƒçƒ§çš„åœ°æ¿æ—¶ï¼Œä¼šè¯ç”Ÿç«ç„°ã€‚
2. ç«ç„°æœ¬èº«ä¹Ÿä¼šè”“å»¶ï¼Œæ­£å¸¸ç«ç„°ç©å®¶æ¯ç§»åŠ¨ä¸‰æ­¥å°±ä¼šè§¦å‘è”“å»¶æ•ˆæœï¼ˆ0ï¼ˆä¸è¢«è®¡ç®—ï¼‰ï¼Œ1ï¼Œ2ï¼Œ3ï¼ˆè§¦å‘ï¼‰ï¼Œ4ï¼Œ5ï¼Œ6ï¼ˆè§¦å‘ï¼‰ï¼‰ï¼Œè”“å»¶æ•ˆæœæ—¶ä»¥è¯¥ç«ç„°ä¸ºä¸­å¿ƒï¼Œä¸Šä¸‹å·¦å³ä¸€ä¸ªç½‘æ ¼è¯ç”Ÿä¸€ä¸ªç«ç„°ï¼ˆæ ¹æ®ä¸åŒæƒ…å†µï¼Œç«ç„°çš„è”“å»¶æ—¶é—´å’Œä½ç½®éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œï¼‰

æ¯ä¸ªç«ç„°çš„ç‡ƒçƒ§éƒ½ç”±ç©å®¶çš„æ­¥æ•°æ§åˆ¶ï¼Œä»ç‚¹ç‡ƒå¯¹åº”ç«ç„°è¯ç”Ÿæ—¶å¼€å§‹è®¡æ•°ï¼Œæ­¤æ—¶ä¸º0ï¼Œä»…è§¦å‘fire_readyåŠ¨ç”»æ²¡æœ‰ç«ç„°å®é™…æ•ˆæœã€‚å½“ç©å®¶å†å‘ä»»æ„æ–¹å‘ç§»åŠ¨ä¸€æ¬¡ï¼Œæ­¤æ—¶æ­¥æ•°+1ï¼Œè§¦å‘fire_onåŠ¨ç”»ç„¶åè½¬ä¸ºfire_keepåŠ¨ç”»å¾ªç¯,å¹¶å¼€å¯è¯¥ç«ç„°çš„ç‡ƒçƒ§å±æ€§ï¼Œç„¶åæ¯æ¬¡ç©å®¶è¿›è¡Œç§»åŠ¨ï¼Œæ­¥æ•°+1ï¼Œå½“æ­¥æ•°è®°å½•ä¸º6çš„æ—¶å€™ï¼Œè§¦å‘fire_offåŠ¨ç”»ï¼Œå¹¶åˆ é™¤ç«ç„°å¯¹è±¡ï¼Œå°†ç«ç„°æ‰€å¤„ä½ç½®çš„åœ°æ¿çš„å±æ€§æ”¹ä¸ºä¸å¯ç‡ƒçƒ§ã€‚

----------mapåˆ†æ”¯è´Ÿè´£ï¼šåœ°å›¾-------------
æˆ‘æƒ³å…ˆåˆ¶ä½œåœ°æ¿éƒ¨åˆ†

åœ°æ¿ç›®å‰æœ‰ä¸‰ç§ç´ æï¼Œè‰ï¼Œè’åœ°ï¼ŒçŸ³åœ°ï¼Œæ ¼å¼ä¸º96å’Œ142ï¼Œè‰+è’åœ°åˆæˆä¸ºè‰åœ°å°†ä¼šç”¨äºå¯ç‡ƒçƒ§åœ°æ¿ï¼Œè’åœ°å’ŒçŸ³åœ°å°†ä¼šç”¨äºä¸å¯ç‡ƒçƒ§åœ°æ¿ï¼Œæˆ‘ä¼šåœ¨sceneä¸­è‡ªå·±æ‰‹åŠ¨æ”¾ç½®åœ°æ¿å—ï¼Œå›¾ç‰‡çš„é¡¶éƒ¨å°†ä¼šå¯¹é½ç½‘æ ¼ï¼Œå›¾ç‰‡ä¸‹åŠéƒ¨åˆ†æˆ‘è®¡åˆ’æ˜¯è®©ä¸‹ä¸€æ’çš„åœ°æ¿å—æŒ¡ä½ï¼Œå½¢æˆæµ®ç©ºæ„Ÿã€‚åªéœ€è¦ç”¨åæ ‡è¿›è¡Œäº’åŠ¨åˆ¤æ–­ã€‚å¦å¤–å½“è‰åœ°ä¸Šæœ‰ç€ç«ç„°æ­£åœ¨ç‡ƒçƒ§çš„æ—¶å€™ï¼Œéšç€æ­¥æ•°çš„å¢åŠ ï¼Œè‰çš„å›¾å±‚ä¼šè¶Šå˜è¶Šé€æ˜ï¼Œæœ€åå’Œç«ç„°ä¸€èµ·æ¶ˆå¤±ã€‚ä»¥åŠä¹‹å‰æåŠçš„æ•ˆæœï¼Œæ¯å—åœ°æ¿éƒ½æºå¸¦ç€ä¸åŒçš„å±æ€§ï¼Œæ˜¯å¦å¯ä»¥ç‡ƒçƒ§ï¼Œç©å®¶æ˜¯å¦å¯ä»¥åœ¨ä¸Šé¢ç§»åŠ¨ç­‰ç­‰ï¼ˆåç»­å¯èƒ½ä¼šæ·»åŠ å…¶ä»–å±æ€§ï¼‰ï¼Œå½“ç«ç„°ç†„ç­åè¯¥åœ°æ¿çš„å±æ€§æ”¹ä¸ºä¸å¯ç‡ƒçƒ§ã€‚

TileFactory.csè‡ªåŠ¨ç”Ÿæˆï¼Œç›´æ¥ç”¨äºŒç»´æ•°ç»„çš„æ–¹å¼å‘Šè¯‰è„šæœ¬æˆ‘æƒ³æ€ä¹ˆæ‘†æ”¾ï¼Œåƒç¬¬ä¸€å…³ä½¿ç”¨è¿™ä¸ªæ•°ç»„ç”Ÿæˆï¼Œç¬¬äºŒå…³å°±æ˜¯å¦å¤–ä¸€ä¸ªæ•°ç»„ã€‚åŒæ—¶æˆ‘å¸Œæœ›å¯ä»¥åœ¨sceneåœºæ™¯ä¸­ç”Ÿæˆï¼Œè€Œä¸æ˜¯åœ¨æ‰“å¼€gamesceneåç”Ÿæˆï¼Œ
åˆ›é€ äº†ä¸€ä¸ªåœŸåœ°é¢„åˆ¶ä½“ï¼Œå®ƒæœ‰æ‰€æœ‰çš„åœ°æ¿å›¾å±‚ï¼ŒGrassLayer  DirtLayerå’ŒRockLayerã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œæˆ‘ä¼šæ ¹æ®éœ€è¦å¼€å¯æˆ–è€…å…³é—­å¯¹åº”å›¾å±‚å¹¶è°ƒèŠ‚å¼€å…³ï¼Œä»¥è¾¾åˆ°æ­é…æ‰€æœ‰åœ°æ¿çš„æ•ˆæœã€‚ç›®å‰çš„åŸºç¡€æ­é…ï¼šGrassï¼šæœ‰GrassLayer  DirtLayerï¼Œå¯ä»¥é€šè¡Œï¼Œå¯ä»¥ç‡ƒçƒ§ï¼Œ Dirtå’ŒRockå¯ä»¥é€šè¡Œï¼Œä¸å¯ä»¥ç‡ƒçƒ§ï¼Œæœªæ¥ä¼šæœ‰å¤šç§æ­é…ã€‚å› ä¸ºæˆ‘æƒ³æ”¯æŒå…³å¡åˆ‡æ¢ï¼Œå¤šä¸ªå…³å¡æ•°ç»„è¦ä¸å¦èµ·ä¸€ä¸ªä¸“é—¨åˆ°æ–‡ä»¶æ¥å‚¨å­˜ï¼Œåˆ°æ—¶å€™å¼•ç”¨å°±è¡Œ

- - ä½¿ç”¨æ–¹æ³•ï¼š
- TileDatabase
åœ¨ Unity Editor ä¸­ï¼š
åœ¨ Assets æ–‡ä»¶å¤¹ä¸­å³é”® â†’ Create > Map > TileDatabase
ç”Ÿæˆä¸€ä¸ªåä¸º TileDatabase.asset
åœ¨ Inspector ä¸­ç‚¹ "+" å¢åŠ ä¸‰æ¡é…ç½®ï¼Œå¦‚ä¸‹ï¼š
Code	ActiveLayers	    Flammable	Walkable
G	    GrassLayer, DirtLayer	âœ…	    âœ…
D	    DirtLayer	            âŒ	    âœ…
R	    RockLayer	            âŒ	    âœ…
æ³¨æ„åå­—è¦å’ŒPrefabå­ç‰©ä½“åå®Œå…¨ä¸€è‡´ï¼Œæ¯”å¦‚å­ç‰©ä½“å« GrassLayerï¼Œè¿™é‡Œä¹Ÿå¿…é¡»å†™ GrassLayer

- TileFactory.cséœ€è¦åœ¨ Inspector ä¸­å³é”®ç‚¹å‡» ğŸ”§ ç”ŸæˆTileåœ°å›¾

----------Fireåˆ†æ”¯è´Ÿè´£ï¼šç«-------------
âœ… å¦‚æœæœªæ¥éœ€è¦é‡æ–°ç‡ƒçƒ§è¿™ä¸ª Tileï¼Ÿ
ä½ è¿˜éœ€è¦åœ¨ AttachFire() ä¸­æ¢å¤é¢œè‰²ä¸ºä¸é€æ˜ï¼š

csharp
Tileã€‚cs
public void AttachFire(int playerStep)
{
    if (!isFlammable) return;
    fireStartStep = playerStep;

    foreach (var kvp in removableRenderers)
    {
        var sr = kvp.Value;
        var c = sr.color;
        sr.color = new Color(c.r, c.g, c.b, 1f);
    }
}

----------characteråˆ†æ”¯è´Ÿè´£ï¼šè§’è‰²-------------
ç©å®¶åªå¯ä»¥ä½¿ç”¨WASDæ¥ä¸Šä¸‹å·¦å³ç§»åŠ¨ä¸€ä¸ªæŒ‰é’®ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç½‘æ ¼çš„è·ç¦»ï¼Œå½“æŒ‰ä¸‹ç©ºæ ¼ä¼šè§¦å‘ä¸€äº›ç‰¹å®šçš„æ•ˆæœï¼Œæ™®é€šæƒ…å†µå°±æ˜¯ç©å®¶æŒ‰ä¸‹ç©ºæ ¼é”®æ—¶ä¸”å½“å‰ç©å®¶æ‰€åœ¨ä½ç½®å¤„æœ‰ä¸ªå¯ä»¥ç‡ƒçƒ§çš„åœ°æ¿æ—¶ï¼Œä¼šè¯ç”Ÿç«ç„°ã€‚ï¼ˆåç»­å¯èƒ½ä¼šæ·»åŠ å…¶ä»–æƒ…å†µï¼‰

ç°åœ¨æˆ‘æ‰“ç®—åˆ¶ä½œä¸€ä¸ªæ•Œäººï¼Œæˆ‘ç°åœ¨æœ‰ä¸ª3*4çš„è¡Œèµ°å›¾ï¼ˆç±»ä¼¼rpgmakerçš„å½¢å¼ï¼‰ï¼Œæˆ‘æƒ³è¦å®ƒä¸Šä¸‹å·¦å³è¡Œèµ°æ—¶è§¦å‘å¯¹åº”çš„åŠ¨ç”»ï¼Œæˆ‘åº”è¯¥æ€ä¹ˆè®¾ç½®ï¼ˆè¡Œèµ°é€»è¾‘æ™šç‚¹å†å¼„ï¼‰